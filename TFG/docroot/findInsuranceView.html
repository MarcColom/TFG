<!doctype html>

<html lang="es" ng-app="app">
  
  <head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">   
   <title>SegurosyViajes</title>   
   <link href="bootstrap-3.3.4/css/bootstrap.min.css" rel="stylesheet">
   <link href="css/index.css" rel="stylesheet">
  </head>
  
  <body> 	
	
	<div ng-controller="InsuranceRequestCtrl as formCtrl">
	
	 <div class="col-md-3"> </div>
  
  	 <div class="col-md-6">
	
	<form name="userForm" ng-submit="userForm.$valid && formCtrl.AddRestEJB()" action="#/showInsurancesView" novalidate>
	  			  		 			  		
	  		<div class="form-group">
	   			<label>Residencia del asegurado:</label>
	   			<select class="form-control" ng-model="formCtrl.user.origin" type="Text" placeholder="Introduce la residencia" required>
	   				<option>España</option>
  					<option>Europa</option>
  					<option>Mundo</option>
  				</select>
			</div>			
		  				
	  		<div class="form-group">
	   			<label>Destino del viaje:</label>
	   			<select ng-model="formCtrl.user.destination" type="Text" class="form-control" placeholder="Introduce el destino" required>
	   				<option>España</option>
  					<option>Europa</option>
  					<option>Mundo</option>
  				</select>
			</div>
			
			<div class="form-group">
	   			<label>Inicio del viaje:</label>
	   			<input ng-model="formCtrl.user.initDate" type="date" min="{{formCtrl.today}}" class="form-control" placeholder="Introduce la fecha de inicio" required/>
			</div>			
			
			<div class="form-group">
	   			<label>Fin del viaje:</label>
	   			<input ng-model="formCtrl.user.endDate" type="date" min="{{formCtrl.user.initDate}}" class="form-control" placeholder="Introduce la fecha de finalización" required/>
			</div>
			
				<input type="submit" value="Enviar" class="btn btn-info"/>				  				  				
  	</form>  
  		  		
  	</br>
  		  		
  	<div class="panel panel-info">
		<div class="panel-heading">
			<h3 class="panel-title">Nueva Residencia: {{formCtrl.user.origin}}</h3>  				
		</div>
		<div class="panel-body">
			Nuevo Destino: {{formCtrl.user.destination}}
		</div>
		<div class="panel-body">
			Nueva Fecha Inicio: {{formCtrl.user.initDate | date:'dd/MM/yyyy'}}
		</div>
		<div class="panel-body">
			Nueva Fecha Fin: {{formCtrl.user.endDate | date:'dd/MM/yyyy'}}
		</div>
		<div class="panel-body">
			Fecha de Hoy: {{formCtrl.today | date:'dd/MM/yyyy'}}
		</div>	
	</div>	
	
	
	
	<div ng-repeat="insurance in formCtrl.insurances">	  			
			<div class="panel panel-primary">
			<div class="panel-heading">
				
			<div class="media">
  				<div class="media-left media-middle">
    				<img src="{{insurance.image}}" alt="imagen seguro" class="img-rounded">	
  				</div>
  				<div class="media-body media-middle">
    				<h1 class="panel-title">{{insurance.name}}</h1>    
  				</div>
  				<div class="media-right media-top">
    				<img src="{{insurance.company.logo}}" alt="compañia" class="img-rounded">
  				</div>
			</div>	
				
				
		<!-- 		<div class="row top-buffer">	  	
				<div class="col-md-3"> 
					<img src="{{insurance.image}}" alt="imagen seguro" class="img-rounded">					
				</div>
				<div class="col-md-6">					
					<h3 class="panel-title">{{insurance.name}}</h3>
				</div>
				<div class="col-md-3">			
					<img src="{{insurance.company.logo}}" alt="compañia" class="img-rounded">					
				</div>
				</div>   -->	  				
			</div>   
			
	<!-- 	<div class="panel-body">    				
    				<a href="{{insurance.coverage}}" id="example"  rel="popover" 
    				   data-content="<div>This <b>is</b> your div content</div>" 
    				   data-html="true" data-original-title="A Title" target="_blank">Detalle de las coberturas</a>    								
			</div>  -->			
			
			
			<div class="alert alert-dismissible alert-info">  				
  				<a href="{{insurance.coverage}}" class="alert-link" target="_blank">Detalle de las coberturas</a>
			</div>
			
			
			
			<div class="panel-body">
					<h6 class="text-muted">{{insurance.generalConditions}}</h6>
			</div>			
			
			<div class="panel-footer">
			<div class="row top-buffer">	  	
				<div class="col-md-9">	
					<p class="text-info"> <strong> Precio: {{insurance.grossPrice}} € </strong></p>					
				</div>				
				<div class="col-md-3">			
					<input type="submit" value="Comprar" class="btn btn-info"/>					
				</div>
			</div>
			</div>
			
							  				
			</div>
	</div>
	
	</div>
	 <div class="col-md-3"> </div>
  
  
	</div>  	
	
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="bootstrap-3.3.4/js/bootstrap.min.js"></script>  
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-route.js"></script>
  <script type="text/javascript" src="AngularJS/angular.min.js"></script>
  <script type="text/javascript" src="AngularJS/angular-route.min.js"></script> 
  <script type="text/javascript" src="AngularJS/app.js"></script>
  
      
  </body>
</html>	